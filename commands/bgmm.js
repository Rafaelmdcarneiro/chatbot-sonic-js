const _0x47b531=_0x44d9;(function(_0x11dc35,_0x4eac54){const _0x1f32e4=_0x44d9,_0x186381=_0x11dc35();while(!![]){try{const _0x35dc96=-parseInt(_0x1f32e4(0x1e3))/0x1+parseInt(_0x1f32e4(0x1e2))/0x2*(parseInt(_0x1f32e4(0x1fa))/0x3)+-parseInt(_0x1f32e4(0x1ec))/0x4+parseInt(_0x1f32e4(0x1db))/0x5+parseInt(_0x1f32e4(0x1cb))/0x6*(parseInt(_0x1f32e4(0x1f3))/0x7)+parseInt(_0x1f32e4(0x1ea))/0x8*(-parseInt(_0x1f32e4(0x1d6))/0x9)+parseInt(_0x1f32e4(0x1ed))/0xa;if(_0x35dc96===_0x4eac54)break;else _0x186381['push'](_0x186381['shift']());}catch(_0x33a8bd){_0x186381['push'](_0x186381['shift']());}}}(_0x3ce7,0xaba2b));const {TelegraPh,bgms}=require('../lib/'),ffmpeg=require('fluent-ffmpeg'),axios=require(_0x47b531(0x1e6)),{getBuffer,cmd,Config}=require(_0x47b531(0x1e5)),fs=require(_0x47b531(0x1de)),util=require('util'),exec=util[_0x47b531(0x1c7)](require('child_process')[_0x47b531(0x1e1)]);function _0x3ce7(){const _0x10c28d=['Uhh\x20Please\x20give\x20Bgm\x20Song\x20NAme','downloadAndSaveMediaMessage','create\x20paste\x20of\x20text.','has','chat','244089tHxlXg','toLowerCase','sendMessage','./blackScreen.mp4','reply','5382720DZfuFK','bgmArray','_\x20\x0a','fs-extra','audio','videoMessage','exec','40082NHdiyJ','1199508CwKRZx','delete','../lib/','axios','general','Error\x20updating\x20BGM:','ffmpeg\x20-i\x20./blackScreen.mp4\x20-i\x20','48dKGPNz','result','2302740YaotUx','2650080KEcPwG','save','disablepm','ffmpeg\x20-f\x20lavfi\x20-i\x20color=c=black:s=1280x720:d=','Name\x20_\x27','Uhh\x20Please,\x20Reply\x20to\x20Audio/Video\x20To\x20Add\x20In\x20Bgm','70zCyncz','unlinkSync','mtype','audioMessage','addbgm','_\x20removed\x20from\x20BGM.*','text','108TYblyy','findOne','promisify','Audio\x20converted\x20to\x20black\x20screen\x20video\x20successfully!','\x20-c:v\x20copy\x20-c:a\x20aac\x20-map\x200:v:0\x20-map\x201:a:0\x20','quoted','346746Wfuhpf','An\x20error\x20occurred:','delbgm','set','*New\x20Song\x20Added\x20in\x20BGM\x20with\x20Name\x20:\x20','audio/mpeg'];_0x3ce7=function(){return _0x10c28d;};return _0x3ce7();}async function convertAudioToBlackScreenVideo(_0x1f943c,_0x186b2e){const _0x3f8820=_0x47b531;try{try{fs['unlinkSync'](_0x186b2e);}catch(_0x1e34c0){}const _0x4eea53='ffprobe\x20-v\x20error\x20-show_entries\x20format=duration\x20-of\x20default=noprint_wrappers=1:nokey=1\x20'+_0x1f943c,{stdout:_0xe209b7}=await exec(_0x4eea53),_0x3b367=parseFloat(_0xe209b7);try{fs[_0x3f8820(0x1f4)](_0x3f8820(0x1d9));}catch(_0x432185){}const _0x648b69=_0x3f8820(0x1f0)+_0x3b367+'\x20-vf\x20\x22format=yuv420p\x22\x20./blackScreen.mp4';await exec(_0x648b69);const _0x608816=_0x3f8820(0x1e9)+_0x1f943c+_0x3f8820(0x1c9)+_0x186b2e;return await exec(_0x608816),console['log'](_0x3f8820(0x1c8)),{'result':!![]};}catch(_0x31f67e){return console['error'](_0x3f8820(0x1cc),_0x31f67e),{'result':![]};}}function _0x44d9(_0x41db7,_0x46cd06){const _0x3ce712=_0x3ce7();return _0x44d9=function(_0x44d9cf,_0x1b5d1f){_0x44d9cf=_0x44d9cf-0x1c6;let _0x4c952c=_0x3ce712[_0x44d9cf];return _0x4c952c;},_0x44d9(_0x41db7,_0x46cd06);}cmd({'pattern':_0x47b531(0x1cd),'desc':_0x47b531(0x1d3),'category':'general','filename':__filename},async(_0x42c304,_0x5306bf,_0x4ac241)=>{const _0x13e444=_0x47b531;if(!_0x4ac241)return await _0x5306bf[_0x13e444(0x1da)]('*Give\x20Me\x20Song\x20Name\x20to\x20Delete\x20From\x20BGM*');let _0x515013=await bgms[_0x13e444(0x1c6)]({'id':'3'})||await new bgms({'id':'3'})['save']();return _0x515013[_0x13e444(0x1dc)][_0x13e444(0x1d4)](_0x4ac241)?(_0x515013[_0x13e444(0x1dc)][_0x13e444(0x1e4)](_0x4ac241),await _0x515013[_0x13e444(0x1ee)](),await _0x5306bf[_0x13e444(0x1da)]('*Song\x20_'+_0x4ac241+_0x13e444(0x1f8))):await _0x5306bf[_0x13e444(0x1da)](_0x13e444(0x1f1)+_0x4ac241+'\x27_\x20does\x20not\x20exist\x20in\x20BGM.');}),cmd({'pattern':'allbgm','desc':'create\x20paste\x20of\x20text.','category':_0x47b531(0x1e7),'filename':__filename},async(_0x4c2bc5,_0x29b3b3,_0x758881)=>{const _0x357b28=_0x47b531;_0x758881='\x20*BGM\x20SONG\x20INFORMATION*\x0a';const {TelegraPh:_0x32e789,bgm:_0x5adb57}=require(_0x357b28(0x1e5));let _0x568c3d=await bgms[_0x357b28(0x1c6)]({'id':'3'})||await new bgms({'id':'3'})['save']();for(const [_0x3e7d5a,_0x14b9d7]of _0x568c3d['bgmArray']){_0x758881+='*'+_0x3e7d5a+'\x20:*\x20_'+_0x14b9d7+_0x357b28(0x1dd);}return await _0x29b3b3['reply'](_0x758881);}),cmd({'pattern':_0x47b531(0x1f7),'desc':_0x47b531(0x1d3),'category':_0x47b531(0x1e7),'filename':__filename},async(_0x29d6a8,_0x301512,_0x48002f)=>{const _0x43985f=_0x47b531;if(!_0x301512[_0x43985f(0x1ca)])return await _0x301512[_0x43985f(0x1da)]('Uhh\x20Please,\x20Reply\x20to\x20Audio/Video\x20To\x20Add\x20In\x20Bgm');if(!_0x48002f)return await _0x301512[_0x43985f(0x1da)](_0x43985f(0x1d1));let _0x557ce6=![],_0x3c0bd7='';if(_0x301512['quoted']['mtype']==_0x43985f(0x1e0))_0x3c0bd7=await _0x29d6a8[_0x43985f(0x1d2)](_0x301512[_0x43985f(0x1ca)]),_0x557ce6=!![];else{if(_0x301512[_0x43985f(0x1ca)][_0x43985f(0x1f5)]==_0x43985f(0x1f6)){_0x557ce6=![];let _0x387afb=await _0x29d6a8[_0x43985f(0x1d2)](_0x301512[_0x43985f(0x1ca)],_0x43985f(0x1df)),_0xdcb162=await convertAudioToBlackScreenVideo(_0x387afb,'./convertedVideo.mp4');_0xdcb162[_0x43985f(0x1eb)]&&(_0x3c0bd7='./convertedVideo.mp4');}else return await _0x301512[_0x43985f(0x1da)](_0x43985f(0x1f2));}if(!_0x3c0bd7)return await _0x301512[_0x43985f(0x1da)]('There\x27s\x20an\x20Error\x20While\x20Adding\x20Bgm\x20Song');let _0x2b9369=await TelegraPh(_0x3c0bd7),_0x3297fd=await bgms[_0x43985f(0x1c6)]({'id':'3'})||await new bgms({'id':'3'})[_0x43985f(0x1ee)]();try{return _0x3297fd[_0x43985f(0x1dc)][_0x43985f(0x1ce)](_0x48002f,_0x2b9369),await _0x3297fd[_0x43985f(0x1ee)](),await _0x301512[_0x43985f(0x1da)](_0x43985f(0x1cf)+_0x48002f+'*');}catch(_0xda22c){return await _0x301512['reply'](_0x43985f(0x1e8)+_0xda22c);}}),cmd({'on':_0x47b531(0x1f9)},async(_0x3e1572,_0x1cc47d,_0x406bc7)=>{const _0x5eed2b=_0x47b531;if(Config[_0x5eed2b(0x1ef)]){let _0x1502f9='\x20'+_0x1cc47d[_0x5eed2b(0x1f9)]+'\x20',_0x4bf443=await bgms[_0x5eed2b(0x1c6)]({'id':'3'})||await new bgms({'id':'3'})[_0x5eed2b(0x1ee)]();for(const [_0x2a4b8f,_0x14f908]of _0x4bf443[_0x5eed2b(0x1dc)]){let _0x55b899=_0x2a4b8f+'\x20';if(_0x1502f9[_0x5eed2b(0x1d7)]()['includes'](_0x55b899))return await _0x3e1572[_0x5eed2b(0x1d8)](_0x1cc47d[_0x5eed2b(0x1d5)],{'audio':{'url':_0x14f908},'mimetype':_0x5eed2b(0x1d0),'ptt':!![],'waveform':[0x63,0x4b,0x19,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x5,0x19,0x32,0x4b,0x63,0x4b,0x32,0x19,0x0]});}}});
